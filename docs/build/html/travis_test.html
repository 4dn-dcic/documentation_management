
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Travis Test &#8212; 4DN Pipelines Development  Guide  documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Create Workflow Object" href="workflow_object.html" />
    <link rel="prev" title="CWL workflow" href="cwl_workflow.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="travis-test">
<h1>Travis Test<a class="headerlink" href="#travis-test" title="Permalink to this headline">¶</a></h1>
<p>We use travis to test that the cwl workflow works as we want to. In order to run
a travis test, we need a travis.yml file and test files.</p>
<div class="section" id="the-travis-yml-file">
<h2>The .travis.yml file<a class="headerlink" href="#the-travis-yml-file" title="Permalink to this headline">¶</a></h2>
<p>This travis.yml file tells travis what to do.</p>
<p>Example:</p>
<img alt="_images/travis_yml.png" src="_images/travis_yml.png" />
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This .travis.yml file is very similar for all the pipelines. You can
follow the template and modify the docker image name. The version of
the docker image does not need to be included. The .travis.yml file
temple can be found <a class="reference external" href="https://github.com/4dn-dcic/documentation_management/blob/master/docs/source/files/travis.yml">here</a></p>
</div>
</div>
<div class="section" id="tests-files">
<h2>Tests files<a class="headerlink" href="#tests-files" title="Permalink to this headline">¶</a></h2>
<p>Create a folder called <code class="docutils literal notranslate"><span class="pre">tests</span></code>. Inside the folder add the following folders and
files:</p>
<ul class="simple">
<li><p>a <code class="docutils literal notranslate"><span class="pre">test_files</span></code> folder: This is where the input files reside.</p></li>
<li><p>a <code class="docutils literal notranslate"><span class="pre">test_input_json</span></code> folder: This should contain a <code class="docutils literal notranslate"><span class="pre">input.json</span></code> file specifying the input files
and parameters for the test.</p></li>
</ul>
<p>Example:</p>
<img alt="_images/input_json.png" src="_images/input_json.png" />
<ul class="simple">
<li><p>a <code class="docutils literal notranslate"><span class="pre">json_null_test.py</span></code> file. Just copy this <a class="reference external" href="https://github.com/4dn-dcic/documentation_management/blob/master/docs/source/files/json_null_test.py">file</a></p></li>
<li><p>a <code class="docutils literal notranslate"><span class="pre">test_cwl.sh</span></code> file. Just copy this <a class="reference external" href="https://github.com/4dn-dcic/documentation_management/blob/master/docs/source/files/tests_cwl.sh">file</a></p></li>
</ul>
</div>
<div class="section" id="configuring-travis-in-github">
<h2>Configuring Travis in Github<a class="headerlink" href="#configuring-travis-in-github" title="Permalink to this headline">¶</a></h2>
<p>Go to <a class="reference external" href="https://travis-ci.com/">https://travis-ci.com/</a> and sign up with Github.</p>
<p>Once you are signed in, go to your repository, click in <code class="docutils literal notranslate"><span class="pre">more</span> <span class="pre">options</span></code> on the
top right, go to <code class="docutils literal notranslate"><span class="pre">settings</span></code>, go to the section <code class="docutils literal notranslate"><span class="pre">Environment</span> <span class="pre">Variables</span></code>. Add
you DockerHub username and password.</p>
<p>Now you can go back to the main travis CI page and click on <code class="docutils literal notranslate"><span class="pre">Restart</span> <span class="pre">build</span></code></p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Make sure the travis test passes before proceeding to the next steps.</p>
</div>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">4DN Pipelines Development  Guide</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="bioinformatics_software.html">Bioinformatics Software</a></li>
<li class="toctree-l1"><a class="reference internal" href="Docker_repo.html">Docker Image Repo</a></li>
<li class="toctree-l1"><a class="reference internal" href="cwl_workflow.html">CWL workflow</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Travis Test</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#the-travis-yml-file">The .travis.yml file</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tests-files">Tests files</a></li>
<li class="toctree-l2"><a class="reference internal" href="#configuring-travis-in-github">Configuring Travis in Github</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="workflow_object.html">Create Workflow Object</a></li>
<li class="toctree-l1"><a class="reference internal" href="Tibanna_test.html">Test with Tibanna</a></li>
<li class="toctree-l1"><a class="reference internal" href="post_data.html">Implement in Data Portal</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="cwl_workflow.html" title="previous chapter">CWL workflow</a></li>
      <li>Next: <a href="workflow_object.html" title="next chapter">Create Workflow Object</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019, Luisa Mercado.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.0.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/travis_test.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>